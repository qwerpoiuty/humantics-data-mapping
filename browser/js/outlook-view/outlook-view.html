<div id="page-wrapper" class="gray-bg" style="min-height:973px;padding-left:0px; padding-right:0px; padding-bottom:50px;">
    <navbar></navbar>
    <div class="wrapper wrapper-content" style="padding-top:10px;">
        <div class="col-lg-5 animated fadeInRight">
            <div class="mail-box-header" style="background-color:#1c84c6; padding: 20px 20px 10px 20px;">
                <h2><span style="color:white; font-size:20px;"> {{table[0].table_name}}</span></h2>
                <div class="mail-tools tooltip-demo m-t-md">
                    <h3 style="color:yellow;">[Database]: <span style="color:white;"> {{table[0].db_name}}</span><span style="color:yellow;"> [Schema]:</span><span style="color:white;"> {{table[0].schema_name}}</span></h3> 
                    <button class = "btn btn-primary" ng-click="addAttribute()" style="float:right;">New Attribute</button>
                </div>
            </div>

            <div class="mail-box">
                <div class="mail-body" style="padding-top:34px;">
                    <div class="row">
                        <div class="col-sm-12">
                            <form role="form">
                                <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Attribute Name</th>
                                        <th>Order</th>
                                        <th>DataType</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-click="selectAttribute(table[$index])" ng-repeat = "attribute in table track by $index">
                                        <td>{{attribute.attr_name}}</td>
                                        <td>{{attribute.attr_id}}</td>
                                        <td>{{attribute.datatype}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>   
        <div class="col-lg-7 animated fadeInRight">
            <div class="mail-box-header" style="background-color:#1ab394; padding: 20px 20px 10px 20px;">
                <div class="pull-right tooltip-demo">
                    <a ng-click="editAttribute()" ng-if="editing=='none'" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Reply"><i class="fa fa-pencil"></i></a>
                    <a ng-click = "newSource()" ng-if="editing =='none'" class ="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top"><i class = "fa fa-plus"></i> Source</a>
                    <a ng-if="editing!=='none'" ng-click="save()" class="btn btn-success btn-sm" data-toggle="tooltip" data-placement="top" title="Reply"><i class="fa fa-pencil"></i> Save</a>
                    <a ng-if="editing!=='none'" ng-click="cancel()" class="btn btn-danger btn-sm" data-toggle="tooltip" data-placement="top" title="Reply"><i class="fa fa-pencil"></i> Cancel</a>
                    <a ng-click="deleteSource()" class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to trash"><i class="fa fa-trash-o"></i> Source</a>
                </div>
                <h2 style="color:white; font-size:20px; ">Attribute Information</h2>
                <div class="mail-tools tooltip-demo m-t-md">
                    <h3 style="color:white;">{{selected.name || 'New Attribute'}}</h3>
                    
                    <div ng-hide="clicked">
                        <button class = "btn btn-danger" style="float:right;" ng-click="clicked=true ">{{sources[0].status}}</button>
                    </div>

                    <div ng-show="clicked">
                        <button class = "btn btn-danger" style="float:right;" ng-click="changeStatus('pending')">Decline</button>
                        <button class = "btn btn-info" style="float:right;margin-right:10px;" ng-click="changeStatus('complete')">Approve</button>
                    </div>

                    <!-- <h3 style="color:white;">{{targetMapping.attr_name || 'New Attribute'}}</h3> -->
                </div>
            </div>
            <div style="background-color:#ffffff;padding-top:24px;">
                <div style="overflow-y:scroll;">
                    <mapping source="sources" target="targetMapping" edit = "editing" temp="temp" sourceIndex = "sourceIndex"></mapping>
                    <rules rules="rules" target = "targetMapping"></rules>
                </div>
            </div>
        </div> 
        
    </div>
    </div>

</div>
<footer></footer>