<div class="mail-box" style="overflow:none;margin-bottom:0;border-bottom:none; border-left:none; border-right:none;">
    <div class="mail-attachment outline-box clearfix">
            <div class="attachment">
                <div class="pull-right tooltip-demo">
                    <a class="btn btn-white btn-sm" ng-click = addTransformation()><i class="fa fa-plus"></i> </a>
                </div>
                <h3 style="margin:0px;">Transformation Rules</h3>
            </div>
        </div>
        <div class="mail-body text-left tooltip-demo notlisting-wrap">
            <div accordion class = "accordion-button clearfix newcomm-wrap" ng-if="newRule">
                <button class="accordion">
                    <h4><i class="fa fa-plus"></i> New Note</h4>New Rule</h4>
                </button>
                <div class="panel accordion-panel-parent col-lg-12 panel-wrap" >
                    <form class="accordion-panel add-note-pan">
                        <div class="col-md-12">
                            <h4>Rule Name</h4> 
                        </div>
                        <div class = "col-md-12">
                            <input ng-model="newTransformation.type" id="ruleType" class="newRuleType" type="text" placeholder="Rule Type"/>
                        </div>
                        <div class="col-md-12">
                            <h4>Rule Description</h4>
                        </div>
                        <div class = "col-md-12">
                            <textarea ng-model="newTransformation.description" class="newRuleDescription col-lg-12" placeholder="A short explanation of this rule" cols="50"></textarea>
                        </div>
                        <div class = "col-md-12">
                            <button ng-click="saveTransformation(newTransformation)" class="btn btn-blue header-btn mar-rt-0 ng-scope">Save</button>
                        </div>
                    </form>
                </div>
            </div>
            <div accordion class = "accordion-button" ng-repeat = "rule in rules track by $index">
                
                <button class="accordion">{{rule.type}}
                </button>
                <div class="panel">
                    <div class="pull-right tooltip-demo">
                           <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="edit" ng-hide="hide[$index]" ng-if="users.power_level == 1"><i class="fa fa-pencil" ng-click = "editRule($index)"></i></a>
                           <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="edit" ng-show="hide[$index]" ng-click = "updateRule($index)">Save</a>
                           <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="edit" ng-show="hide[$index]" ng-click = "cancel($index)">Cancel</a>
                            <a class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="top" title="Move to trash" ng-if="users.power_level == 1" ng-click = "deleteRule($index)"><i class="fa fa-trash-o"></i></a>
                    </div>
                   <p ng-hide="hide[$index] == 1">{{rule.description}}</p>
                   <textarea ng-show="hide[$index] ==1" ng-model="rule.newDescription" class="newRuleDescription col-lg-12" placeholder="{{rule.description}}" cols="50"></textarea>
                </div>
            </div>

        </div>
</div>