<div id = "wrapper" class = "view-height-main">
    <div class = "wrapper wrapper-content animated pad-tp-0" style="padding: 1.5%; ">
        <div class = "p-w-md">
            <div class="row mar-bt-30" >
        <div class="col-lg-5 animated fadeInRight">
            <div class="mail-box-header table-data-view">
                <div class="lt-att-info white">Projects</div>
                <div class="mail-tools tooltip-demo m-t-md">
                </div>
                <h3 style="color:white;">List of Current Projects</h3>
                <button class = "btn btn-primary" ng-if="user.power_level==4" ng-click = "newProject()" style="float:right;">New Project</button>
            </div>

            <div class="mail-box  mar-bt-30 body-container outline-box ">
                <div class="mail-body tab v-scroll">
                    <div class="row">
                        <div class="col-sm-12" style="overflow-y:scroll;">
                            <form role="form">
                                <table class="table table-hover">
                                <thead>
                                    <tr class="pro-tr">
                                        <th>Project Name</th>
                                        <th>Project Leader</th>
                                        <th>Due Date </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="pro-tr" ng-click="selectProject(projects[$index])" ng-repeat = "project in projects | orderBy:'project.due_date' track by $index">
                                        <td class="clickbl ng-binding"><i class="fa fa-angle-right"></i> {{project.project_name}}</td>
                                        <td>{{project.email}}</td>
                                        <td>{{project.due_date | date:'yyyy-MM-dd'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>   
        <div class="col-lg-7 animated fadeInRight">
            <div class="mail-tools tooltip-demo attribute-tab-head outline-box no-bt-brder clearfix">
                <div class="lt-att-info widthfull" ng-show="selectedProject && !editing">Project Name: {{currentPro}} <a ng-click="editProject()" ng-hide="editing"><i class="fa fa-edit"></i></a>
                </div>
                <div class="lt-att-info widthfull" ng-show="selectedProject && editing">
                    Project Name: <input type="text" ng-show="editing" ng-model="tempProject.project_name"/>
                </div>
                <div ng-if="user.power_level==4">
                    <button ng-show="selectedProject" ng-hide="editing" ng-click="deleteProject()" class="btn btn-danger top-right-button"><i class="fa fa-trash-o"></i> Project</button>
                    <div class="top-right-button">
                        <a class="btn btn-white btn-sm fl-rt" ng-show="editing" ng-click="cancel()" title="Cancel"><i class="fa fa-close"></i></a>
                        <a class="btn btn-white btn-sm fl-rt mar-4" ng-show="editing" ng-click="save()" title="Save"><i class="fa fa-save"></i></a>
                    </div>
                </div>
                <div class="mail-tools tooltip-demo m-t-md">
                    <h3 ng-show="selectedProject && !editing" class="ng-binding pull-left">Due: {{selectedProject.due_date | date:'yyyy-MM-dd'}}</h3>
                    <div class="col-lg-1" ng-show="selectedProject && editing">
                        <h3 class="ng-binding pull-left">Due: </h3>
                    </div>
                    <div class="col-md-6" ng-show="selectedProject && editing">
                        <p class="input-group">
                          <input type="text" class="form-control" uib-datepicker-popup ng-model="tempProject.due_date" is-open="status.opened" show-button-bar="false" datepicker-options="dateOptions" required="true" />
                          <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                          </span>
                        </p>
                    </div>
                    <button class = "btn btn-success" ng-if="selectedProject && user.power_level == 4" ng-click="addMembers()" style="float:right;background-color:#1c84c6;margin-left:10px;">Update Members</button>
                    <button class = "btn btn-success" ng-if="selectedProject && user.power_level == 4" ng-click="addTables()" style="float:right;background-color:#1c84c6">Add Tables</button>
                </div>
            </div>

               <div class="body-container mail-box outline-box mar-bt-30">
                <div class="mail-body current-jobs">
                    <div class="row">
                        <div class="col-sm-12" style="overflow-y:scroll;">
                            <form role="form">
                                <table class="footable table table-stripped toggle-arrow-tiny">
                                <thead>
                                    <tr ng-show="targetProject">
                                        <th data-toggle="true" >Table</th>
                                        <th>Schema</th>
                                        <th>Database</th>
                                        <th data-hide="all">Total Attributes</th>
                                        <!-- <th data-hide="all">Number of Mappings</th> -->
                                        <th>Detailed View</th>
                                        <th ng-if="user.power_level==4">Remove Table</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat = "table in targetProject track by $index" foo-repeat-done>
                                        <td>{{table.table_name}}</td>
                                        <td>{{table.schema_name}}</td>
                                        <td>{{table.db_name}}</td>
                                        <td>{{table.attribute_count}}</td>
                                        <!-- <td>{{table.mappings.length}}</td> -->
                                        <td><button class = "btn btn-primary" ng-click="detailedView(table.table_id)">Detailed View</button></td>
                                        <td ng-if="user.power_level==4"><button class="btn btn-warning" ng-click="removeTable(table.table_id)">Remove Table</button>
                                    </tr>
                                </tbody>
                            </table>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            </div> 
    </div>
    </div>
    </div>
</div>